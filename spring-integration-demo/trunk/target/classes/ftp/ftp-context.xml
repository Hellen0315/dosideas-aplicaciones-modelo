<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:int="http://www.springframework.org/schema/integration"
	xmlns:ftp="http://www.springframework.org/schema/integration/ftp"
        xmlns:file="http://www.springframework.org/schema/integration/file"
        xsi:schemaLocation="http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans.xsd
			http://www.springframework.org/schema/integration
			http://www.springframework.org/schema/integration/spring-integration-2.0.xsd
			http://www.springframework.org/schema/integration/ftp
                        http://www.springframework.org/schema/integration/ftp/spring-integration-ftp-2.0.xsd
                        http://www.springframework.org/schema/integration/file
                        http://www.springframework.org/schema/integration/file/spring-integration-file-2.0.xsd">
                            
    <int:channel id="archivoEntrada">
        <int:queue/>
    </int:channel>
    
    <bean id="ftpClientFactory" class="org.springframework.integration.ftp.session.DefaultFtpSessionFactory">
        <property name="host" value="adwww245"/>
        <property name="username" value="beasvc"/>
        <property name="password" value="bea245desa"/>
    
    </bean>
    
    <ftp:inbound-channel-adapter channel="archivoEntrada" 
                                 session-factory="ftpClientFactory" 
                                 delete-remote-files="true" 
                                 remote-directory="/home/beasvc/salidaftp" 
                                 local-directory="tmp" 
                                 temporary-file-suffix="_ftp">
        <int:poller fixed-rate="1000"/>    
    </ftp:inbound-channel-adapter>
    
    
    <int:channel id="archivoSalida"/>
    
    <file:inbound-channel-adapter id="dirEntrada" channel="archivoSalida" directory="tmp">
        <int:poller>
            <int:interval-trigger interval="1000"/>
        </int:poller>
    </file:inbound-channel-adapter>
    
    
    <ftp:outbound-channel-adapter channel="archivoSalida" session-factory="ftpClientFactory"  remote-directory="/home/beasvc/entradaftp" temporary-file-suffix="_ftp"/>
    

</beans>